# 아이 프로필 이미지 등록 가이드

## 기능 설명

아이 정보 수정 화면에서 프로필 이미지를 등록할 수 있습니다.

## 사용 방법

### 1. 아이 프로필 화면 접속
- 홈 화면에서 아이 카드 클릭 → "프로필 수정" 선택
- 또는 "새 아이 추가" 선택

### 2. 프로필 이미지 선택
- 화면 상단의 **큰 원형 아이콘**을 탭합니다
- 또는 아래의 **"프로필 이미지 추가"** 버튼을 클릭합니다

### 3. 이미지 소스 선택
선택 옵션:
- **📷 갤러리에서 선택**: 기기에 저장된 사진 선택
- **📸 사진 촬영**: 카메라로 직접 촬영
- **🗑️ 프로필 이미지 제거**: 기존 이미지 삭제

### 4. 자동 최적화
- 이미지 크기: 최대 800x800px로 자동 리사이즈
- 이미지 품질: 85% 압축
- 최대 파일 크기: 5MB

## 구현된 기능

### 1. **StorageService** 개선
```dart
- uploadProfileImage(): 프로필 이미지 업로드
- deleteProfileImage(): 프로필 이미지 삭제
- drawings 버킷 사용 (기존 인프라 활용)
```

### 2. **ChildProfileScreen UI**
```dart
- 프로필 이미지 미리보기 (원형)
- 갤러리에서 선택 / 사진 촬영 옵션
- 이미지 제거 기능
- 기존 이미지 표시 (네트워크 이미지)
```

### 3. **저장 로직**
```dart
- 새 이미지 선택 시 자동 업로드
- Supabase Storage에 저장
- children 테이블의 profile_image_url 필드 업데이트
```

## 사용 방법

1. **아이 정보 추가/수정 화면**에서
2. **프로필 이미지 영역**을 탭
3. **갤러리에서 선택** 또는 **사진 촬영** 선택
4. 이미지가 표시되면 **저장 버튼** 클릭

## 주의사항

⚠️ **Supabase Storage 설정 필요**:
- `drawings` 버킷이 public으로 설정되어 있어야 합니다
- 이미 그림 업로드 기능에서 사용 중이므로 추가 설정 불필요

## Git 저장 완료
- ✅ 변경 사항 커밋 완료
- ✅ GitHub에 업로드 완료

---

**이제 앱을 hot reload (r키) 하시면 프로필 이미지 등록 기능을 사용하실 수 있습니다!** 📸✨
